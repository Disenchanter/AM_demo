# 音频设备管理器 (Audio Device Manager)

一个使用Flutter开发的音频设备管理demo应用，支持用户认证、设备控制和预设管理功能。

## 功能特性

### 🔐 用户认证系统
- **登录/注册功能**：支持用户名密码登录和新用户注册
- **用户角色管理**：区分普通用户和管理员用户权限
- **会话管理**：使用SharedPreferences实现本地会话存储

### 🎧 设备管理功能
- **设备列表显示**：横向滚动显示所有音频设备
- **设备连接状态**：实时显示设备连接/断开状态
- **音量控制**：滑块调节音量，支持快速音量按钮
- **EQ均衡器**：10频段均衡器，支持实时调节
- **设备信息**：显示设备类型、最后更新时间等信息

### 🎛️ 预设管理系统
- **系统预设**：内置平坦、摇滚、流行、爵士等预设
- **用户预设**：管理员可创建和管理自定义预设
- **预设应用**：一键应用预设到设备
- **预设搜索**：支持按名称、描述、标签搜索
- **标签过滤**：多标签过滤功能

### 👨‍💼 管理员功能
- **保存预设**：将当前设备设置保存为公共/私有预设
- **预设管理**：编辑、删除用户创建的预设
- **用户管理**：管理员身份标识和权限控制

## 技术架构

### 📁 项目结构
```
lib/
├── main.dart                    # 应用程序入口
├── models/                      # 数据模型
│   ├── user.dart               # 用户模型
│   ├── device.dart             # 设备模型
│   ├── preset.dart             # 预设模型
│   └── models.dart             # 统一导出
├── services/                    # 业务逻辑服务
│   ├── auth_service.dart       # 认证服务
│   ├── device_service.dart     # 设备服务
│   └── preset_service.dart     # 预设服务
├── providers/                   # 状态管理
│   ├── auth_provider.dart      # 认证状态管理
│   ├── device_provider.dart    # 设备状态管理
│   └── preset_provider.dart    # 预设状态管理
├── screens/                     # 页面UI
│   ├── login_screen.dart       # 登录页面
│   ├── home_screen.dart        # 主页面
│   ├── device_control_screen.dart # 设备控制页面
│   └── preset_screen.dart      # 预设管理页面
└── widgets/                     # 可复用组件
    ├── volume_slider.dart      # 音量滑块组件
    ├── eq_slider.dart          # EQ均衡器组件
    └── preset_selector.dart    # 预设选择器组件
```

### 🏗️ 技术栈
- **Flutter**: 跨平台UI框架
- **Provider**: 状态管理
- **SharedPreferences**: 本地数据存储
- **Material Design**: UI设计系统

### 📊 数据模型
- **User**: 用户信息和角色管理
- **Device**: 音频设备信息、音量和EQ设置
- **Preset**: 音频预设配置和元数据
- **EQSettings**: 10频段均衡器配置

## 快速开始

### 📋 系统要求
- Flutter SDK 3.9.2+
- Dart 3.9.2+
- Windows/macOS/Linux开发环境

### 🚀 安装运行
1. **克隆项目**
   ```bash
   git clone <项目地址>
   cd audio_device_manager
   ```

2. **安装依赖**
   ```bash
   flutter pub get
   ```

3. **运行应用**
   ```bash
   # Windows
   flutter run -d windows
   
   # macOS
   flutter run -d macos
   
   # Linux
   flutter run -d linux
   
   # 移动端
   flutter run -d android
   flutter run -d ios
   ```

### 👥 测试账户
| 用户类型 | 用户名 | 密码 | 权限 |
|---------|--------|------|------|
| 管理员 | admin | admin123 | 保存/删除预设，管理用户 |
| 普通用户 | user1 | user123 | 使用设备，应用预设 |
| 普通用户 | user2 | user123 | 使用设备，应用预设 |

## 界面预览

### 🔑 登录界面
- 简洁的登录表单设计
- 支持用户注册功能
- 演示账户信息提示
- 输入验证和错误提示

### 🏠 主界面
- 底部导航栏切换功能页面
- 顶部显示用户信息和角色标识
- 刷新按钮和登出功能

### 🎵 设备控制页面
- 设备列表横向滑动展示
- 音量控制滑块和快速按钮
- 10频段EQ均衡器可视化
- 预设选择器和应用功能
- 管理员保存预设功能

### ⚙️ 预设管理页面
- 搜索和标签过滤功能
- 系统预设和用户预设分类显示
- 预设详情模态弹窗
- 管理员编辑删除功能

## 核心功能演示

### 🎚️ 音量控制
- 实时音量调节滑块
- 可视化音量图标和颜色变化
- 快速音量按钮（静音、低、中、高）
- 音量百分比数字显示

### 🎛️ EQ均衡器
- 10频段频率调节（32Hz-16kHz）
- 实时EQ曲线可视化
- 预设EQ模式快速切换
- 自定义EQ设置保存

### 💾 预设系统
- 系统内置预设（平坦、摇滚、流行、爵士）
- 用户自定义预设创建和管理
- 预设标签分类和搜索
- 公共/私有预设权限控制

## 数据持久化

应用使用SharedPreferences实现本地数据存储：
- 用户认证信息和会话管理
- 设备设置和状态保存
- 用户自定义预设存储
- 应用配置和偏好设置

## 状态管理

使用Provider模式管理应用状态：
- **AuthProvider**: 用户登录状态和权限管理
- **DeviceProvider**: 设备列表和控制状态
- **PresetProvider**: 预设数据和操作状态

## 开发说明

### 🔧 添加新设备类型
1. 在`Device`模型中添加新的设备类型
2. 在`DeviceService`中更新设备图标映射
3. 添加相应的UI图标和样式

### 📝 扩展预设功能
1. 在`Preset`模型中添加新的预设属性
2. 更新`PresetService`中的保存/加载逻辑
3. 修改预设UI组件显示新属性

### 🎨 自定义UI主题
1. 修改`main.dart`中的`ThemeData`配置
2. 更新颜色方案和组件样式
3. 适配不同平台的设计规范

## 未来扩展

### 🔮 计划功能
- [ ] 蓝牙设备自动发现和连接
- [ ] 音频效果实时预览
- [ ] 多设备同步管理
- [ ] 云端预设同步
- [ ] 语音控制集成
- [ ] 音频分析和可视化
- [ ] 个性化推荐系统

### 🛠️ 技术改进
- [ ] 使用Riverpod替代Provider
- [ ] 集成音频处理库
- [ ] 添加单元测试和集成测试
- [ ] 实现CI/CD自动化部署
- [ ] 性能优化和内存管理
- [ ] 无障碍功能支持

## 许可证

本项目仅用于演示和学习目的，请勿用于商业用途。

---

*最后更新：2024年9月*
